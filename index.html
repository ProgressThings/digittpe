<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProgiCheck by Progress Things ‚Äî Diagnostic Maturit√© Num√©rique</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // V√©rifier que jsPDF est bien charg√© au d√©marrage
        window.addEventListener('load', function() {
            if (window.jspdf) {
                console.log('‚úÖ jsPDF charg√© avec succ√®s:', window.jspdf);
            } else {
                console.error('‚ùå jsPDF non charg√©!');
            }
        });
        
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
    <style>
        :root{--primary:#1a1a1a;--secondary:#2d2d2d;--accent:#00D4AA;--accent-dark:#00B894;--white:#fff;--gray-100:#f7f7f7;--gray-200:#e5e5e5;--gray-300:#d4d4d4;--gray-400:#a3a3a3;--gray-500:#737373;--danger:#ef4444;--warning:#f59e0b;--success:#10b981;--pro-gold:#FFD700;--standard-blue:#3b82f6}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Inter',sans-serif;background:var(--gray-100);color:var(--primary);line-height:1.6}
        .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:9999;display:flex;align-items:flex-start;justify-content:center;padding:1rem;padding-top:2rem;overflow-y:auto;-webkit-overflow-scrolling:touch}
        .modal-overlay.hidden{display:none}
        .modal{background:var(--white);border-radius:20px;max-width:800px;width:100%;padding:1.5rem;animation:fadeIn .3s;margin:auto 0;max-height:none}
        .modal h2{font-family:'Space Grotesk',sans-serif;font-size:1.5rem;margin-bottom:.5rem;text-align:center}
        .modal-subtitle{text-align:center;color:var(--gray-500);margin-bottom:1.5rem;font-size:.9rem}
        .modal-checkbox{display:flex;align-items:flex-start;gap:.75rem;margin:1.5rem 0;padding:1rem;background:var(--gray-100);border-radius:10px}
        .modal-checkbox input{width:20px;height:20px;accent-color:var(--accent);cursor:pointer}
        .modal-checkbox label{font-size:.85rem;color:var(--gray-500);cursor:pointer}
        .modal-btn{width:100%;padding:1rem;border-radius:50px;font-size:1rem;font-weight:600;border:none;transition:all .3s;background:var(--accent);color:var(--primary);cursor:pointer}
        .modal-btn:disabled{background:var(--gray-300) !important;color:var(--gray-500) !important;cursor:not-allowed !important;opacity:0.6}
        .modal-btn:enabled{background:var(--accent);color:var(--primary);cursor:pointer}
        .modal-btn:enabled:hover{background:var(--accent-dark)}
        .pricing-cards{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}
        @media(max-width:768px){.pricing-cards{grid-template-columns:1fr}}
        .pricing-card{background:var(--white);border:2px solid var(--gray-200);border-radius:16px;padding:1.25rem;cursor:pointer;transition:all .3s;position:relative}
        .pricing-card:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,.1)}
        .pricing-card.selected{border-width:3px}
        .pricing-card.selected.free{border-color:var(--accent);background:rgba(0,212,170,0.03)}
        .pricing-card.selected.standard{border-color:var(--standard-blue);background:rgba(59,130,246,0.03)}
        .pricing-card.selected.pro{border-color:var(--pro-gold);background:rgba(255,215,0,0.05)}
        .pricing-card.pro::before{content:'RECOMMANDE';position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,#FFD700,#FFA500);color:var(--primary);padding:.25rem .75rem;border-radius:50px;font-size:.65rem;font-weight:700}
        .pricing-icon{font-size:2rem;text-align:center;margin-bottom:.5rem}
        .pricing-name{font-family:'Space Grotesk',sans-serif;font-size:1.1rem;font-weight:600;text-align:center}
        .pricing-price{font-family:'Space Grotesk',sans-serif;font-size:1.75rem;font-weight:700;text-align:center}
        .pricing-price.free{color:var(--accent-dark)}
        .pricing-price.standard{color:var(--standard-blue)}
        .pricing-price.pro{color:#d4a000}
        .pricing-price span{font-size:.7rem;color:var(--gray-400);font-weight:400}
        .pricing-usd{font-size:.75rem;color:var(--gray-400);text-align:center;margin-bottom:.75rem}
        .pricing-features{list-style:none;padding:0;margin:0}
        .pricing-features li{font-size:.72rem;padding:.25rem 0;display:flex;align-items:flex-start;gap:.4rem}
        .pricing-features li.included{color:var(--gray-600)}
        .pricing-features li.included::before{content:'\2713';color:var(--success);font-weight:700}
        .pricing-features li.excluded{color:var(--gray-400)}
        .pricing-features li.excluded::before{content:'\2717';color:var(--gray-300)}
        .pricing-features li.highlight{font-weight:600;color:var(--primary)}
        .key-section{display:none;margin-top:1.5rem;padding:1.5rem;border-radius:12px;border:2px solid var(--gray-200)}
        .key-section.standard{background:linear-gradient(135deg,#f0f7ff,#fff);border-color:var(--standard-blue)}
        .key-section.pro{background:linear-gradient(135deg,#FFFEF5,#FFF8E7);border-color:var(--pro-gold)}
        .key-section.show{display:block}
        .key-section h3{font-size:1rem;margin-bottom:1rem}
        .license-input{width:100%;padding:.875rem;font-family:'Space Grotesk',monospace;font-size:1.1rem;text-align:center;text-transform:uppercase;letter-spacing:2px;border:2px solid var(--gray-300);border-radius:10px}
        .license-input:focus{outline:none;border-color:var(--accent)}
        .license-input.valid{border-color:var(--success);background:rgba(16,185,129,.05)}
        .license-input.invalid{border-color:var(--danger);background:rgba(239,68,68,.05)}
        .license-error{color:var(--danger);font-size:.8rem;margin-top:.5rem;display:none;text-align:center}
        .license-error.show{display:block}
        .key-help{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--gray-200);font-size:.8rem;color:var(--gray-500)}
        .key-help a{color:var(--primary);font-weight:500}
        header{background:var(--primary);padding:1rem 2rem;position:fixed;top:0;left:0;right:0;z-index:1000;display:flex;justify-content:space-between;align-items:center}
        .logo{display:flex;align-items:center;gap:.75rem}
        .logo-icon{width:40px;height:40px}
        .logo-text{color:var(--white);font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:1.25rem}
        .logo-text span{color:var(--accent)}
        .header-pt{color:var(--gray-400);font-size:.8rem;text-decoration:none}
        .header-pt strong{color:var(--accent)}
        main{margin-top:72px}
        .container{max-width:900px;margin:0 auto;padding:2rem 1rem}
        .section{display:none;animation:fadeIn .4s}
        .section.active{display:block}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        .hero{text-align:center;padding:3rem 1rem}
        .hero-badge{display:inline-block;background:var(--accent);color:var(--primary);padding:.5rem 1rem;border-radius:50px;font-size:.875rem;font-weight:600;margin-bottom:1.5rem}
        .hero h1{font-family:'Space Grotesk',sans-serif;font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:1rem}
        .hero h1 span{color:var(--accent-dark)}
        .hero-subtitle{font-size:1.1rem;color:var(--gray-500);max-width:600px;margin:0 auto 2rem}
        .hero-cta{display:inline-flex;align-items:center;gap:.75rem;background:var(--primary);color:var(--white);padding:1rem 2rem;border-radius:50px;font-size:1.1rem;font-weight:600;cursor:pointer;border:none;transition:all .3s}
        .hero-cta:hover{background:var(--secondary);transform:translateY(-2px)}
        .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:3rem}
        .feature-card{background:var(--white);padding:1.25rem;border-radius:16px;border:1px solid var(--gray-200);text-align:center}
        .feature-icon{font-size:2rem;margin-bottom:.5rem}
        .feature-card h3{font-family:'Space Grotesk',sans-serif;font-size:1rem;font-weight:600}
        .feature-card p{color:var(--gray-500);font-size:.8rem}
        .dic-banner{background:linear-gradient(135deg,var(--primary),var(--secondary));padding:2rem;border-radius:20px;margin-top:2rem;color:var(--white)}
        .dic-banner h3{font-family:'Space Grotesk',sans-serif;font-size:1.25rem;margin-bottom:1rem;text-align:center}
        .dic-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}
        @media(max-width:600px){.dic-grid{grid-template-columns:1fr}}
        .dic-item{text-align:center;padding:1rem;background:rgba(255,255,255,.05);border-radius:12px}
        .dic-item h4{color:var(--accent);font-size:.9rem}
        .dic-item p{font-size:.75rem;color:var(--gray-400)}
        .form-section{max-width:500px;margin:0 auto}
        .form-header{text-align:center;margin-bottom:2rem}
        .form-header h2{font-family:'Space Grotesk',sans-serif;font-size:1.75rem}
        .form-card{background:var(--white);padding:2rem;border-radius:20px;border:1px solid var(--gray-200)}
        .form-group{margin-bottom:1.25rem}
        .form-group label{display:block;font-weight:500;margin-bottom:.5rem;font-size:.875rem}
        .form-group .required{color:var(--danger)}
        .form-group input,.form-group select{width:100%;padding:.875rem;border:1px solid var(--gray-300);border-radius:10px;font-size:1rem}
        .form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent)}
        .version-badge{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:50px;font-size:.875rem;font-weight:600;margin-bottom:1rem}
        .version-badge.free{background:var(--accent);color:var(--primary)}
        .version-badge.standard{background:var(--standard-blue);color:var,--white}
        .version-badge.pro{background:linear-gradient(135deg,#FFD700,#FFA500);color:var(--primary)}
        .quiz-header{text-align:center;margin-bottom:2rem}
        .quiz-header h2{font-family:'Space Grotesk',sans-serif;font-size:1.5rem}
        .progress-container{background:var(--gray-200);height:8px;border-radius:4px;overflow:hidden;margin-bottom:.5rem}
        .progress-bar{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-dark));transition:width .4s}
        .progress-text{font-size:.875rem;color:var(--gray-500)}
        .category-indicator{display:inline-flex;align-items:center;gap:.5rem;background:var(--primary);color:var,--white;padding:.5rem 1rem;border-radius:50px;font-size:.875rem;margin-bottom:1.5rem}
        .question-card{background:var(--white);padding:2rem;border-radius:20px;border:1px solid var(--gray-200)}
        .question-dic{display:inline-block;font-size:.7rem;padding:.25rem .6rem;border-radius:4px;margin-bottom:.75rem;background:var(--gray-100);color:var(--gray-500)}
        .question-text{font-family:'Space Grotesk',sans-serif;font-size:1.2rem;font-weight:600;margin-bottom:1.5rem}
        .options{display:flex;flex-direction:column;gap:.75rem}
        .option{display:flex;align-items:center;padding:1rem;border:2px solid var(--gray-200);border-radius:12px;cursor:pointer;transition:all .2s}
        .option:hover{border-color:var(--accent);background:rgba(0,212,170,.05)}
        .option.selected{border-color:var(--accent);background:rgba(0,212,170,.1)}
        .option-radio{width:20px;height:20px;border:2px solid var(--gray-300);border-radius:50%;margin-right:1rem;display:flex;align-items:center;justify-content:center}
        .option.selected .option-radio{border-color:var(--accent);background:var(--accent)}
        .option.selected .option-radio::after{content:'';width:8px;height:8px;background:var(--white);border-radius:50%}
        .option-text{font-size:.9rem}
        .nav-buttons{display:flex;justify-content:space-between;margin-top:2rem;gap:1rem}
        .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1.5rem;border-radius:50px;font-size:1rem;font-weight:600;cursor:pointer;border:none;text-decoration:none}
        .btn-primary{background:var(--primary);color:var(--white)}
        .btn-primary:hover{background:var(--secondary)}
        .btn-primary:disabled{background:var(--gray-300);cursor:not-allowed}
        .btn-secondary{background:var(--white);color:var(--primary);border:1px solid var(--gray-300)}
        .btn-accent{background:var(--accent);color:var,--primary}
        .results-header{text-align:center;margin-bottom:2rem}
        .results-header h2{font-family:'Space Grotesk',sans-serif;font-size:2rem}
        .score-display{background:var(--primary);color:var(--white);padding:2.5rem 2rem;border-radius:24px;text-align:center;margin-bottom:2rem}
        .score-circle{width:150px;height:150px;border-radius:50%;background:conic-gradient(var(--accent) calc(var(--score) * 1%),var(--secondary) 0);display:flex;align-items:center;justify-content:center;margin:0 auto 1.5rem;position:relative}
        .score-circle::before{content:'';position:absolute;width:120px;height:120px;background:var(--primary);border-radius:50%}
        .score-value{position:relative;z-index:1;font-family:'Space Grotesk',sans-serif;font-size:2.5rem;font-weight:700}
        .score-value span{font-size:1.25rem;color:var(--gray-400)}
        .score-label{font-size:1.25rem;font-weight:600}
        .score-description{color:var(--gray-400);font-size:.9rem}
        .dic-scores{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--secondary)}
        .dic-score-item{text-align:center}
        .dic-score-item .label{font-size:.7rem;color:var(--gray-400)}
        .dic-score-item .value{font-family:'Space Grotesk',sans-serif;font-size:1.25rem;font-weight:700;color:var(--accent)}
        .chart-container{background:var(--white);padding:2rem;border-radius:20px;border:1px solid var(--gray-200);margin-bottom:2rem}
        .chart-container h3{font-family:'Space Grotesk',sans-serif;font-size:1.25rem;margin-bottom:1.5rem;text-align:center}
        #radarChart{max-height:320px}
        .category-scores{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1rem;margin-bottom:2rem}
        .category-score-card{background:var(--white);padding:1.25rem;border-radius:16px;border:1px solid var(--gray-200)}
        .category-score-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}
        .category-score-name{font-weight:600;font-size:.9rem}
        .category-score-value{font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:1.1rem}
        .category-score-value.low{color:var(--danger)}
        .category-score-value.medium{color:var(--warning)}
        .category-score-value.high{color:var(--success)}
        .category-score-bar{height:8px;background:var(--gray-200);border-radius:4px;overflow:hidden;margin-bottom:.5rem}
        .category-score-fill{height:100%;border-radius:4px}
        .category-score-fill.low{background:var(--danger)}
        .category-score-fill.medium{background:var(--warning)}
        .category-score-fill.high{background:var(--success)}
        .category-score-desc{font-size:.75rem;color:var(--gray-500)}
        .download-section{display:flex;justify-content:center;gap:1rem;margin-bottom:2rem;flex-wrap:wrap}
        .solutions-section{background:linear-gradient(135deg,#1a1a1a,#2d2d2d);padding:2rem;border-radius:20px;margin-bottom:2rem;color:var(--white)}
        .solutions-section h3{font-family:'Space Grotesk',sans-serif;font-size:1.2rem;margin-bottom:1rem}
        .solution-card{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.25rem;margin-bottom:1rem}
        .solution-header{display:flex;align-items:center;gap:.75rem;margin-bottom:.5rem}
        .solution-icon{width:36px;height:36px;background:var(--accent);border-radius:8px;display:flex;align-items:center;justify-content:center}
        .solution-title{font-weight:600}
        .solution-description{color:var(--gray-400);font-size:.8rem}
        .recommendations{background:var(--white);padding:2rem;border-radius:20px;border:1px solid var(--gray-200);margin-bottom:2rem}
        .recommendations h3{font-family:'Space Grotesk',sans-serif;font-size:1.2rem;margin-bottom:1.5rem}
        .recommendation-item{display:flex;gap:1rem;padding:1rem 0;border-bottom:1px solid var(--gray-200)}
        .recommendation-item:last-child{border-bottom:none}
        .recommendation-icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700}
        .recommendation-icon.priority-high{background:rgba(239,68,68,.08)} /* fond l√©ger rouge */
        .recommendation-icon.priority-medium{background:rgba(245,158,11,.08)} /* fond l√©ger orange */
        .recommendation-content h4{font-size:.9rem;font-weight:600}
        .recommendation-content p{font-size:.8rem;color:var(--gray-500)}
        .recommendation-content .pt-solution{color:var(--accent-dark);font-size:.75rem;font-weight:600;margin-top:.5rem}
        .results-cta{background:linear-gradient(135deg,var(--accent),var(--accent-dark));padding:2rem;border-radius:20px;text-align:center;color:var(--primary)}
        .results-cta h3{font-family:'Space Grotesk',sans-serif;font-size:1.4rem}
        .results-cta p{color:var(--secondary);margin-bottom:1rem;font-size:.9rem}
        .toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:var(--primary);color:var(--white);padding:1rem 1.5rem;border-radius:12px;z-index:2000;display:none}
        .toast.show{display:flex}
        .toast.success{background:var(--success)}
        footer{background:var(--primary);color:var(--white);padding:2rem;text-align:center}
        footer p{color:var(--gray-400);font-size:.85rem;margin-bottom:.5rem}
        footer a{color:var(--accent)}
        .footer-tagline{color:var(--accent);font-weight:600;margin-top:.75rem}
    
        .why-section{background:var(--white);padding:2rem;border-radius:20px;margin-top:2rem}
        .why-section h3{font-family:'Space Grotesk',sans-serif;font-size:1.25rem;margin-bottom:1rem;text-align:center;color:var(--primary)}
        .why-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-top:1.5rem}
        .why-item{padding:1rem;background:var(--gray-100);border-radius:12px;border-left:4px solid var(--accent)}
        .why-item h4{font-size:.95rem;color:var(--primary);margin-bottom:.5rem}
        .why-item p{font-size:.8rem;color:var(--gray-500)}
        .categories-section{background:var(--white);padding:2rem;border-radius:20px;margin-top:2rem}
        .categories-section h3{font-family:'Space Grotesk',sans-serif;font-size:1.25rem;margin-bottom:1.5rem;text-align:center;color:var(--primary)}
        .categories-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem}
        @media(max-width:768px){.categories-grid{grid-template-columns:repeat(2,1fr)}}
        @media(max-width:500px){.categories-grid{grid-template-columns:1fr}}
        .cat-item{padding:1rem;background:var(--gray-100);border-radius:12px;text-align:center;transition:all .2s}
        .cat-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}
        .cat-item .cat-icon{width:40px;height:40px;background:var(--accent);border-radius:10px;display:flex;align-items:center;justify-content:center;margin:0 auto .5rem}
        .cat-item .cat-icon svg{width:20px;height:20px;fill:var(--primary)}
        .cat-item h4{font-size:.85rem;color:var(--primary);margin-bottom:.25rem}
        .cat-item p{font-size:.7rem;color:var(--gray-500)}

    </style>
</head>
<body>
    <div class="modal-overlay" id="consentModal">
        <div class="modal" style="max-width:520px">
            <h2>üîí Protection de vos donn√©es</h2>
            <p style="color:var(--gray-500);text-align:center;margin-bottom:1rem">Bienvenue sur <strong>ProgiCheck</strong> !</p>
            <ul style="color:var(--gray-500);font-size:.85rem;margin:1rem 0 1rem 1.5rem">
                <li>‚úì Donn√©es s√©curis√©es, jamais revendues</li>
                <li>‚úì Progress Things pourra vous accompagner</li>
                <li>‚úì Droits: <a href="mailto:contact@progressthings.com" style="color:var(--accent);">contact@progressthings.com</a></li>
            </ul>
            <div class="modal-checkbox">
                <input type="checkbox" id="consentCheck" style="cursor:pointer;">
                <label for="consentCheck" style="cursor:pointer;">J'accepte le traitement de mes donn√©es par <strong>Progress Things</strong>.</label>
            </div>
            <button class="modal-btn" id="consentBtn" disabled onclick="acceptConsent()" style="cursor:not-allowed;">Accepter et continuer</button>
        </div>
    </div>

    <div class="modal-overlay hidden" id="versionModal">
        <div class="modal">
            <h2> Choisissez votre formule</h2>
            <p class="modal-subtitle">S√©lectionnez la version adapt√©e √† vos besoins</p>
            
            <div class="pricing-cards">
                <div class="pricing-card selected free" id="cardFree" onclick="selectVersion('free')">
                    <div class="pricing-icon"></div>
                    <div class="pricing-name">Gratuit</div>
                    <div class="pricing-price free">0 <span>FCFA</span></div>
                    <div class="pricing-usd">Acc√®s imm√©diat</div>
                    <ul class="pricing-features">
                        <li class="included">27 questions / 9 cat√©gories</li>
                        <li class="included">Score global + DIC</li>
                        <li class="included">Graphique radar</li>
                        <li class="included">PDF r√©sum√© (3 pages)</li>
                        <li class="excluded">D√©tail des r√©ponses</li>
                        <li class="excluded">Accompagnement expert</li>
                    </ul>
                </div>
                
                <div class="pricing-card" id="cardStandard" onclick="selectVersion('standard')">
                    <div class="pricing-icon"></div>
                    <div class="pricing-name">Standard</div>
                    <div class="pricing-price standard">5 000 <span>FCFA</span></div>
                    <div class="pricing-usd">‚âà 8 USD</div>
                    <ul class="pricing-features">
                        <li class="included">Tout le gratuit +</li>
                        <li class="included highlight">PDF complet (6+ pages)</li>
                        <li class="included highlight">D√©tail 27 r√©ponses</li>
                        <li class="included highlight">Analyse DIC d√©taill√©e</li>
                        <li class="included highlight">Statistiques</li>
                        <li class="excluded">Accompagnement expert</li>
                    </ul>
                </div>
                
                <div class="pricing-card pro" id="cardPro" onclick="selectVersion('pro')">
                    <div class="pricing-icon"></div>
                    <div class="pricing-name">Pro</div>
                    <div class="pricing-price pro">25 000 <span>FCFA</span></div>
                    <div class="pricing-usd">‚âà 40 USD</div>
                    <ul class="pricing-features">
                        <li class="included">Tout le Standard +</li>
                        <li class="included highlight">Document technique NIST/ISO 27001</li>
                        <li class="included highlight">Plan 90 jours personnalis√©</li>
                        <li class="included highlight">Liens documentations officielles</li>
                        <li class="included highlight">Matrice risque d√©taill√©e</li>
                        <li class="included highlight">R√©f√©rences CIS Controls v8</li>
                    </ul>
                </div>
            </div>
            
            <div id="keySection" class="key-section">
                <h3><span id="keyIcon"></span> <span id="keyTitle">Cl√© Standard</span></h3>
                <input type="text" class="license-input" id="licenseInput" placeholder="XXXX-XXXX-XXXX" maxlength="14" autocomplete="off">
                <p class="license-error" id="licenseError">Cl√© invalide ou d√©j√† utilis√©e.</p>
                <button class="modal-btn" style="margin-top:1rem" onclick="validateKey()">Activer ma cl√©</button>
                <div class="key-help">
                    <p>Pas encore de cl√© ? Contactez-nous :</p>
                    <p><a href="https://www.progressthings.com" target="_blank">Chat</a> ¬∑ <a href="/cdn-cgi/l/email-protection#9de9f8fef5f3f4ece8f8b3fffbddedeff2faeff8eeeee9f5f4f3faeeb3fef2f0">Email</a></p>
                </div>
            </div>
            
            <button class="modal-btn" id="continueBtn" style="margin-top:1rem" onclick="continueWithVersion()">Continuer gratuitement ‚Üí</button>
        </div>
    </div>

    <header>
        <div class="logo">
            <div class="logo-icon"><svg viewBox="0 0 100 100" fill="none"><circle cx="50" cy="50" r="45" stroke="#00D4AA" stroke-width="3" fill="none"/><circle cx="50" cy="50" r="30" stroke="#00D4AA" stroke-width="2" fill="none"/><circle cx="50" cy="50" r="15" stroke="#00D4AA" stroke-width="2" fill="none"/><circle cx="50" cy="50" r="5" fill="#00D4AA"/></svg></div>
            <div class="logo-text">Progi<span>Check</span></div>
        </div>
        <a href="https://www.progressthings.com" target="_blank" class="header-pt">by <strong>Progress Things</strong></a>
    </header>

    <main>
        <section id="home" class="section active">
            <div class="container">
                <div class="hero">
                    <div class="hero-badge"> Diagnostic complet en 9 cat√©gories</div>
                    <h1>√âvaluez la <span>maturit√© num√©rique</span> de votre entreprise</h1>
                    <p class="hero-subtitle">Un diagnostic professionnel bas√© sur les crit√®res DIC pour les TPE et PME.</p>
                    <button class="hero-cta" onclick="showVersionModal()"> Commencer le diagnostic</button>
                    <div class="features">
                        <div class="feature-card"><div class="feature-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#00D4AA" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div><h3>12 minutes</h3><p>Questions cibl√©es</p></div>
                        <div class="feature-card"><div class="feature-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="#00D4AA"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg></div><h3>12 cat√©gories</h3><p>Analyse compl√®te</p></div>
                        <div class="feature-card"><div class="feature-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="#00D4AA"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div><h3>Approche DIC</h3><p>M√©thodologie pro</p></div>
                        <div class="feature-card"><div class="feature-icon"><svg width="32" height="32" viewBox="0 0 24 24" fill="#00D4AA"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8" fill="none" stroke="#1a1a1a" stroke-width="2"/></svg></div><h3>Rapport PDF</h3><p>T√©l√©chargeable</p></div>
                    </div>
                    <div class="dic-banner">
                        <h3> M√©thodologie DIC</h3>
                        <div class="dic-grid">
                            <div class="dic-item"><h4>Disponibilit√©</h4><p>Syst√®mes accessibles</p></div>
                            <div class="dic-item"><h4>Int√©grit√©</h4><p>Donn√©es prot√©g√©es</p></div>
                            <div class="dic-item"><h4>Confidentialit√©</h4><p>Acc√®s contr√¥l√©s</p></div>
                        </div>
                    </div>
                    <div class="why-section">
                        <h3>Pourquoi faire ce diagnostic ?</h3>
                        <p style="text-align:center;color:var(--gray-500);margin-bottom:1rem">80% des PME africaines ne connaissent pas leur niveau de maturit√© num√©rique</p>
                        <div class="why-grid">
                            <div class="why-item">
                                <h4>Identifier vos failles</h4>
                                <p>D√©couvrez les points faibles de votre infrastructure avant qu'un incident ne survienne.</p>
                            </div>
                            <div class="why-item">
                                <h4>Prioriser vos investissements</h4>
                                <p>Savez o√π mettre votre argent en priorit√© pour un impact maximum.</p>
                            </div>
                            <div class="why-item">
                                <h4>Benchmark professionnel</h4>
                                <p>Comparez votre niveau aux standards de cybers√©curit√© reconnus (DIC).</p>
                            </div>
                            <div class="why-item">
                                <h4>Plan d'action concret</h4>
                                <p>Obtenez des recommandations claires et adapt√©es √† votre contexte.</p>
                            </div>
                        </div>
                    </div>

                    <div class="categories-section">
                        <h3>Les 12 cat√©gories analys√©es</h3>
                        <div class="categories-grid">
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="8" rx="2"/><rect x="2" y="14" width="20" height="8" rx="2"/></svg></div>
                                <h4>Infrastructure IT</h4>
                                <p>√âquipements, r√©seau, maintenance</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Cybers√©curit√©</h4>
                                <p>Antivirus, sauvegardes, phishing</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><rect x="2" y="7" width="15" height="10" rx="2"/><polygon points="17 9 22 6 22 18 17 15"/></svg></div>
                                <h4>S√©curit√© Physique</h4>
                                <p>Vid√©osurveillance, acc√®s, alarmes</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10"/></svg></div>
                                <h4>Continuit√©</h4>
                                <p>Onduleurs, autonomie, PCA</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Donn√©es</h4>
                                <p>Stockage, PRA, r√©cup√©ration</p>
                            </div>

  

                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Collaboration</h4>
                                <p>Messagerie, partage, communication</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/><line x1="2" y1="12" x2="22" y2="12" stroke="currentColor" stroke-width="2"/><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Internet</h4>
                                <p>Connexion, secours, SLA</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c0 2 2 3 6 3s6-1 6-3v-5" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Pr√©sence Digitale</h4>
                                <p>Site web, r√©seaux sociaux</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Comp√©tences</h4>
                                <p>Niveau IT, formations, support</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><path d="M19 21v-2a4 4 0 00-4-4H9a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z" fill="none" stroke="currentColor" stroke-width="2"/></div>
                                <h4>Identit√©s & Acc√®s</h4>
                                <p>Comptes, droits, MFA</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2" fill="none" stroke="currentColor" stroke-width="2"/><line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2"/><line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Applications</h4>
                                <p>M√©tier, cloud, monitoring</p>
                            </div>
                            <div class="cat-item">
                                <div class="cat-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="1" x2="12" y2="23" stroke="currentColor" stroke-width="2"/><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" fill="none" stroke="currentColor" stroke-width="2"/></svg></div>
                                <h4>Budget & Gouvernance</h4>
                                <p>Planification, responsable IT</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="lead-form" class="section">
            <div class="container">
                <div class="form-section">
                    <div style="text-align:center"><div class="version-badge" id="versionBadge"> Version Gratuite</div></div>
                    <div class="form-header"><h2>Vos informations</h2></div>
                    <div class="form-card">
                        <form id="leadForm">
                            <div class="form-group"><label>Entreprise <span class="required">*</span></label><input type="text" id="companyName" required placeholder="SARL Exemple"></div>
                            <div class="form-group"><label>Votre nom <span class="required">*</span></label><input type="text" id="contactName" required></div>
                            <div class="form-group"><label>Email <span class="required">*</span></label><input type="email" id="contactEmail" required></div>
                            <div class="form-group"><label>T√©l√©phone</label><input type="tel" id="contactPhone"></div>
                            <div class="form-group"><label>Secteur <span class="required">*</span></label><select id="sector" required><option value="">S√©lectionnez</option><option>Commerce</option><option>Services</option><option>Industrie</option><option>Finance</option><option>Sant√©</option><option>√âducation</option><option>ONG</option><option>IT</option><option>BTP</option><option>Transport</option><option>Autre</option></select></div>
                            <div class="form-group"><label>Employ√©s <span class="required">*</span></label><select id="employees" required><option value="">S√©lectionnez</option><option>1-10</option><option>11-50</option><option>51-200</option><option>200+</option></select></div>
                            <div class="nav-buttons"><button type="button" class="btn btn-secondary" onclick="showVersionModal()">‚Üê Retour</button><button type="submit" class="btn btn-primary">Commencer ‚Üí</button></div>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="quiz" class="section">
            <div class="container">
                <div class="quiz-header"><h2>Diagnostic en cours</h2><div class="progress-container"><div class="progress-bar" id="progressBar"></div></div><p class="progress-text"><span id="currentQuestion">1</span>/<span id="totalQuestions">27</span></p></div>
                <div style="text-align:center"><div class="category-indicator"><span id="categoryIcon"></span> <span id="categoryName">Infrastructure</span></div></div>
                <div class="question-card">
                    <div class="question-dic" id="questionDic">Disponibilit√©</div>
                    <p class="question-text" id="questionText">Chargement...</p>
                    <div class="options" id="optionsContainer"></div>
                </div>
                <div class="nav-buttons"><button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>‚Üê Pr√©c√©dent</button><button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Suivant ‚Üí</button></div>
            </div>
        </section>

        <section id="results" class="section">
            <div class="container">
                <div class="results-header"><h2>Diagnostic termin√©</h2><p id="resultsCompanyName"></p></div>
                <div class="score-display">
                    <div class="score-circle" id="scoreCircle" style="--score:0"><div class="score-value"><span id="scoreValue">0</span><span>/100</span></div></div>
                    <p class="score-label" id="scoreLabel">Niveau</p>
                    <p class="score-description" id="scoreDescription"></p>
                    <div class="dic-scores">
                        <div class="dic-score-item"><div class="label">Disponibilit√©</div><div class="value" id="dicDisp">0%</div></div>
                        <div class="dic-score-item"><div class="label">Int√©grit√©</div><div class="value" id="dicInt">0%</div></div>
                        <div class="dic-score-item"><div class="label">Confidentialit√©</div><div class="value" id="dicConf">0%</div></div>
                    </div>
                </div>
                <div class="download-section"><button class="btn btn-accent" onclick="downloadPDF()">T√©l√©charger PDF</button><button class="btn btn-secondary" onclick="location.reload()">Nouveau</button></div>
                <div class="chart-container"><h3>Analyse par cat√©gorie</h3><canvas id="radarChart"></canvas></div>
                <div class="category-scores" id="categoryScores"></div>
                <div class="solutions-section"><h3>Solutions Progress Things</h3><div id="solutionsList"></div></div>
                <div class="recommendations"><h3>Recommandations</h3><div id="recommendationsList"></div></div>
                <div class="results-cta"><h3>Besoin d'accompagnement ?</h3><p>Nos experts sont l√† pour vous.</p><a href="https://www.progressthings.com" target="_blank" class="btn" style="background:var(--primary);color:var,--white">Contacter Progress Things ‚Üí</a></div>
            </div>
        </section>
    </main>

    <div class="toast" id="toast"><span id="toastMessage"></span></div>
    <footer><p style="font-size:1.1rem;font-weight:600">Progi<span style="color:#00D4AA">Check</span></p><p>by <a href="https://www.progressthings.com">Progress Things</a></p><p class="footer-tagline">Let's do it together</p></footer>

  

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>

const EMAILJS_PUBLIC_KEY="LF6930gGEBQZK63sJ",EMAILJS_SERVICE_ID="service_y7puafd",EMAILJS_TEMPLATE_ID="template_o67tdos";
const firebaseConfig={apiKey:"AIzaSyDoPVoY_6ZGRKr5SzLZVIcAi3m1-bQjEzA",authDomain:"progicheck.firebaseapp.com",databaseURL:"https://progicheck-default-rtdb.europe-west1.firebasedatabase.app",projectId:"progicheck",storageBucket:"progicheck.firebasestorage.app",messagingSenderId:"739734702901",appId:"1:739734702901:web:64261b37324fe92e995a7c"};
const DEMO_MODE=false;
let firebaseDB=null,licensesRef=null;

function initFirebase(){
  if(firebaseConfig.apiKey==="VOTRE_API_KEY") return false;
  try{
    if(!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    firebaseDB=firebase.database();
    licensesRef=firebaseDB.ref('licenses');
    return true;
  }catch(e){
    return false;
  }
}

let currentVersion={key:'FREE',type:'free'},selectedType='free';

document.addEventListener('DOMContentLoaded', function() {
  initFirebase();
  
  // SETUP CONSENT CHECKBOX - SEUL listener valide
  const consentCheck = document.getElementById('consentCheck');
  const consentBtn = document.getElementById('consentBtn');
  
  if (consentCheck && consentBtn) {
    consentCheck.addEventListener('change', function() {
      consentBtn.disabled = !this.checked;
    });
  }
  
  // Setup license input formatting
  const licenseInput = document.getElementById('licenseInput');
  if (licenseInput) {
    licenseInput.addEventListener('input', function() {
      let v = this.value.toUpperCase().replace(/[^A-Z0-9]/g, '').substring(0, 12);
      let f = '';
      for (let i = 0; i < v.length; i++) {
        if (i > 0 && i % 4 === 0) f += '-';
        f += v[i];
      }
      this.value = f;
      this.classList.remove('valid', 'invalid');
      document.getElementById('licenseError').classList.remove('show');
    });
  }
});

function acceptConsent() {
  const checkbox = document.getElementById('consentCheck');
  if (!checkbox || !checkbox.checked) {
    showToast('‚ùå Veuillez accepter les conditions');
    return;
  }
  document.getElementById('consentModal').classList.add('hidden');
  localStorage.setItem('progicheck_consent', 'true');
  showToast('‚úì Consentement accept√©', 'success');
}

if (localStorage.getItem('progicheck_consent') === 'true') {
  document.getElementById('consentModal').classList.add('hidden');
}

function showVersionModal() {
  document.getElementById('versionModal').classList.remove('hidden');
}

function selectVersion(type) {
  selectedType = type;
  ['cardFree','cardStandard','cardPro'].forEach(id => {
    document.getElementById(id).classList.remove('selected','free','standard','pro');
  });
  document.getElementById('card'+type.charAt(0).toUpperCase()+type.slice(1)).classList.add('selected',type);
  
  const ks = document.getElementById('keySection');
  const btn = document.getElementById('continueBtn');
  
  if (type === 'free') {
    ks.classList.remove('show','standard','pro');
    btn.textContent = 'Continuer gratuitement ‚Üí';
    btn.style.background = 'var(--accent)';
  } else {
    ks.className = 'key-section show '+type;
    document.getElementById('keyIcon').textContent = type === 'pro' ? '' : '';
    document.getElementById('keyTitle').textContent = 'Cl√© '+(type === 'pro' ? 'Pro' : 'Standard');
    btn.textContent = 'Entrez votre cl√© ci-dessus ‚Üë';
    btn.style.background = 'var(--gray-300)';
  }
}

function continueWithVersion() {
  if (selectedType !== 'free') {
    document.getElementById('licenseInput').focus();
    return;
  }
  currentVersion = {key:'FREE', type:'free'};
  document.getElementById('versionModal').classList.add('hidden');
  updateVersionBadge();
  showSection('lead-form');
  showToast('Version gratuite activ√©e!','success');
}

// ...existing input listener for license...

function validateKey() {
  const input = document.getElementById('licenseInput');
  const key = input.value.trim().toUpperCase();
  
  if (!/^[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/.test(key)) {
    input.classList.add('invalid');
    document.getElementById('licenseError').textContent = 'Format: XXXX-XXXX-XXXX';
    document.getElementById('licenseError').classList.add('show');
    return;
  }
  
  if (DEMO_MODE || !licensesRef) {
    currentVersion = {key:key, type:selectedType};
    input.classList.add('valid');
    setTimeout(() => {
      document.getElementById('versionModal').classList.add('hidden');
      updateVersionBadge();
      showSection('lead-form');
      showToast((selectedType === 'pro' ? '‚úì Pro' : '‚úì Standard')+' activ√©!','success');
    }, 400);
    return;
  }
  
  licensesRef.child(key.replace(/-/g,'')).once('value').then(snap => {
    const d = snap.val();
    if (!d || d.status === 'used') {
      input.classList.add('invalid');
      document.getElementById('licenseError').textContent = d ? 'Cl√© d√©j√† utilis√©e' : 'Cl√© invalide';
      document.getElementById('licenseError').classList.add('show');
      return;
    }
    currentVersion = {key:key, type:d.type, firebaseId:key.replace(/-/g,'')};
    input.classList.add('valid');
    setTimeout(() => {
      document.getElementById('versionModal').classList.add('hidden');
      updateVersionBadge();
      showSection('lead-form');
      showToast('‚úì Cl√© activ√©e!','success');
    }, 400);
  }).catch(() => {
    input.classList.add('invalid');
    document.getElementById('licenseError').textContent = 'Erreur de connexion';
    document.getElementById('licenseError').classList.add('show');
  });
}

function updateVersionBadge() {
  const b = document.getElementById('versionBadge');
  if (currentVersion.type === 'pro') {
    b.className = 'version-badge pro';
    b.textContent = 'üëë Version Pro';
  } else if (currentVersion.type === 'standard') {
    b.className = 'version-badge standard';
    b.textContent = '‚≠ê Version Standard';
  } else {
    b.className = 'version-badge free';
    b.textContent = '‚úì Version Gratuite';
  }
}

function showToast(m, t='info') {
  const e = document.getElementById('toast');
  document.getElementById('toastMessage').textContent = m;
  e.className = 'toast show '+t;
  setTimeout(() => e.classList.remove('show'), 3000);
}

function showSection(id) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0, 0);
}

// ...existing code for sendEmail, displayResults, etc...
</script>
</body>
</html>
